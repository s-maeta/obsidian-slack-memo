# Obsidian Slack Memo

SlackのメッセージをObsidianに自動保存するプラグインです。チームのコミュニケーションを検索可能なナレッジベースとして活用できます。

## 機能

- 📥 **自動同期** - Slackメッセージを定期的に自動取得
- 📝 **Markdown変換** - メッセージを整形されたMarkdownファイルとして保存
- 🗂️ **整理された構造** - チャンネルごと・日付ごとに自動整理
- 🔍 **検索可能** - Obsidianの強力な検索機能でSlackメッセージを検索
- 🔐 **セキュア** - OAuth 2.0による安全な認証

## インストール

### コミュニティプラグインからインストール（推奨）
1. Obsidian設定を開く
2. 「コミュニティプラグイン」→「閲覧」
3. 「Obsidian Slack Memo」を検索
4. インストール → 有効化

### 手動インストール
1. [最新リリース](https://github.com/yourusername/obsidian-slack-memo/releases)から`main.js`、`manifest.json`、`styles.css`をダウンロード
2. Vaultの`.obsidian/plugins/obsidian-slack-memo/`フォルダに配置
3. Obsidianを再起動し、プラグインを有効化

## 初期設定

### 1. Slack Appの準備

1. [Slack APIサイト](https://api.slack.com/apps)にアクセス
2. 「Create New App」→「From scratch」を選択
3. アプリ名を入力し、ワークスペースを選択
4. 「OAuth & Permissions」で以下のスコープを追加：
   - `channels:history` - パブリックチャンネルのメッセージ読み取り
   - `channels:read` - パブリックチャンネル一覧の取得
   - `groups:history` - プライベートチャンネルのメッセージ読み取り（必要な場合）
   - `groups:read` - プライベートチャンネル一覧の取得（必要な場合）

### 2. プラグインの設定

1. Obsidian設定 → Obsidian Slack Memo
2. 「Slackと連携」ボタンをクリック
3. ブラウザが開き、Slackの認証画面が表示されます
4. 「許可する」をクリック
5. Obsidianに戻り、同期したいチャンネルを選択

## 使い方

### 基本的な使い方

#### 手動で同期する
- リボンアイコンをクリック
- または、コマンドパレット（`Ctrl/Cmd + P`）で「Slack: 手動同期を実行」

#### 自動同期を有効にする
1. 設定画面で「自動同期を有効化」をオン
2. 同期間隔を設定（5分〜24時間）

### コマンド

| コマンド | 説明 |
|---------|------|
| Slack: 手動同期を実行 | 今すぐメッセージを同期 |
| Slack: 同期状況を表示 | 現在の同期状態を確認 |
| Slack: 設定を開く | プラグイン設定画面を開く |
| Slack: キャッシュをクリア | 同期履歴をリセット |

### ショートカットキー

| 操作 | Windows/Linux | Mac |
|------|---------------|-----|
| 手動同期 | `Ctrl + Shift + S` | `Cmd + Shift + S` |
| 同期状況 | `Ctrl + Shift + I` | `Cmd + Shift + I` |

## ファイル構成

メッセージは以下のような構成で保存されます：

```
Slack Messages/        # メインフォルダ（設定で変更可能）
├── general/          # チャンネル名
│   ├── 2024-01-15.md # 日付ごとのファイル
│   └── 2024-01-16.md
└── dev-team/
    └── 2024-01-15.md
```

## 設定項目

### 基本設定
- **同期対象チャンネル** - 同期するチャンネルを選択
- **自動同期** - 自動同期のオン/オフ
- **同期間隔** - 自動同期の実行間隔
- **保存先フォルダ** - メッセージの保存場所

### 詳細設定
- **日付形式** - ファイル名の日付フォーマット
- **タイムゾーン** - メッセージ時刻の表示設定
- **ファイル添付** - 添付ファイル情報の同期

## よくある質問

### Q: どのようなメッセージが同期されますか？
A: 選択したチャンネルの通常のメッセージ、スレッド、リアクション、添付ファイル情報が同期されます。

### Q: プライベートチャンネルも同期できますか？
A: はい。ただし、Slack Appに適切な権限（`groups:history`、`groups:read`）を設定する必要があります。

### Q: 過去のメッセージも同期されますか？
A: 初回同期時は過去30日分のメッセージを取得します。その後は新しいメッセージのみ同期されます。

### Q: 同期したメッセージは編集できますか？
A: はい。Obsidian内で自由に編集できます。ただし、次回同期時に上書きされないよう注意してください。

### Q: 同期が遅い場合は？
A: 設定で同期間隔を長くするか、同期するチャンネル数を減らしてください。

## トラブルシューティング

### 認証エラーが表示される
1. Slack Appの権限設定を確認
2. プラグイン設定で再認証を実行

### メッセージが同期されない
1. ステータスバーで同期状況を確認
2. インターネット接続を確認
3. 選択したチャンネルへのアクセス権限を確認

### Obsidianが重くなる
1. 自動同期の間隔を長くする（15分以上推奨）
2. 同期するチャンネル数を減らす

## プライバシーとセキュリティ

- このプラグインはSlackのメッセージをローカルに保存します
- 認証情報は安全にObsidianの設定に保存されます
- 外部サーバーへのデータ送信は行いません
- Slack APIの通信はHTTPSで暗号化されています

## サポート

問題や要望がある場合は、[GitHub Issues](https://github.com/yourusername/obsidian-slack-memo/issues)でお知らせください。

## ライセンス

MIT License - 詳細は[LICENSE](LICENSE)ファイルをご覧ください。